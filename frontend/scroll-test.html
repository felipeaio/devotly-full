<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Scroll - Devotly Create</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .test-frame {
            border: 2px solid #333;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        .test-header {
            background: #333;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        .test-iframe {
            width: 100%;
            height: 400px;
            border: none;
        }
        .scroll-indicator {
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        .no-scroll { background: #4CAF50; color: white; }
        .has-scroll { background: #f44336; color: white; }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        .controls button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            background: #333;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Teste de Responsividade - Devotly Create</h1>
    <div class="controls">
        <button onclick="checkAllFrames()">üîç Verificar Scroll</button>
        <button onclick="reloadAllFrames()">üîÑ Recarregar</button>
    </div>
    
    <div class="test-container">
        <!-- Resolu√ß√£o 1024px -->
        <div class="test-frame">
            <div class="test-header">1024px (Limite Inferior)</div>
            <iframe class="test-iframe" src="create.html" style="width: 1024px; transform: scale(0.3); transform-origin: top left; height: 1333px;"></iframe>
            <div class="scroll-indicator" id="indicator-1024">Verificando...</div>
        </div>
        
        <!-- Resolu√ß√£o 1100px -->
        <div class="test-frame">
            <div class="test-header">1100px (Meio do Range)</div>
            <iframe class="test-iframe" src="create.html" style="width: 1100px; transform: scale(0.27); transform-origin: top left; height: 1481px;"></iframe>
            <div class="scroll-indicator" id="indicator-1100">Verificando...</div>
        </div>
        
        <!-- Resolu√ß√£o 1220px -->
        <div class="test-frame">
            <div class="test-header">1220px (Limite Superior)</div>
            <iframe class="test-iframe" src="create.html" style="width: 1220px; transform: scale(0.246); transform-origin: top left; height: 1626px;"></iframe>
            <div class="scroll-indicator" id="indicator-1220">Verificando...</div>
        </div>
        
        <!-- Resolu√ß√£o 1240px (fora do range) -->
        <div class="test-frame">
            <div class="test-header">1240px (Fora do Range)</div>
            <iframe class="test-iframe" src="create.html" style="width: 1240px; transform: scale(0.242); transform-origin: top left; height: 1653px;"></iframe>
            <div class="scroll-indicator" id="indicator-1240">Verificando...</div>
        </div>
    </div>
    
    <div id="results"></div>
    
    <script>
        function checkScrollInFrame(iframe, indicatorId, width) {
            try {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                const hasHorizontalScroll = iframeDoc.documentElement.scrollWidth > iframeDoc.documentElement.clientWidth;
                const hasVerticalScroll = iframeDoc.documentElement.scrollHeight > iframeDoc.documentElement.clientHeight;
                
                const indicator = document.getElementById(indicatorId);
                
                if (hasHorizontalScroll) {
                    indicator.textContent = `‚ùå SCROLL HORIZONTAL (${iframeDoc.documentElement.scrollWidth}px > ${iframeDoc.documentElement.clientWidth}px)`;
                    indicator.className = 'scroll-indicator has-scroll';
                } else if (hasVerticalScroll) {
                    indicator.textContent = `‚ö†Ô∏è Scroll Vertical (Normal)`;
                    indicator.className = 'scroll-indicator no-scroll';
                } else {
                    indicator.textContent = `‚úÖ Sem Scroll`;
                    indicator.className = 'scroll-indicator no-scroll';
                }
                
                return {
                    width: width,
                    hasHorizontalScroll: hasHorizontalScroll,
                    hasVerticalScroll: hasVerticalScroll,
                    scrollWidth: iframeDoc.documentElement.scrollWidth,
                    clientWidth: iframeDoc.documentElement.clientWidth
                };
            } catch (e) {
                document.getElementById(indicatorId).textContent = `‚ùå Erro: ${e.message}`;
                document.getElementById(indicatorId).className = 'scroll-indicator has-scroll';
                return null;
            }
        }
        
        function checkAllFrames() {
            const results = [];
            const iframes = document.querySelectorAll('.test-iframe');
            const widths = [1024, 1100, 1220, 1240];
            
            iframes.forEach((iframe, index) => {
                const width = widths[index];
                const indicatorId = `indicator-${width}`;
                const result = checkScrollInFrame(iframe, indicatorId, width);
                if (result) results.push(result);
            });
            
            // Mostrar resumo
            const resultsDiv = document.getElementById('results');
            const problemFrames = results.filter(r => r.hasHorizontalScroll);
            
            if (problemFrames.length === 0) {
                resultsDiv.innerHTML = '<div style="background: #4CAF50; color: white; padding: 20px; border-radius: 8px; text-align: center; font-weight: bold;">‚úÖ SUCESSO! Nenhum scroll horizontal detectado!</div>';
            } else {
                resultsDiv.innerHTML = `
                    <div style="background: #f44336; color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                        <h3>‚ùå Problemas Detectados:</h3>
                        ${problemFrames.map(r => `<p>‚Ä¢ ${r.width}px: Largura ${r.scrollWidth}px > Viewport ${r.clientWidth}px</p>`).join('')}
                    </div>
                `;
            }
        }
        
        function reloadAllFrames() {
            document.querySelectorAll('.test-iframe').forEach(iframe => {
                iframe.src = iframe.src;
            });
            setTimeout(checkAllFrames, 2000);
        }
        
        // Verificar automaticamente ap√≥s carregar
        window.addEventListener('load', () => {
            setTimeout(checkAllFrames, 3000);
        });
    </script>
</body>
</html>
